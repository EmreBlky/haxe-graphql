(function(e,t){"use strict";e["graphql"]=e["graphql"]||{};var s=function(){return m.__string_rec(this,"")};function r(e,t){function r(){}r.prototype=e;var i=new r;for(var s in t)i[s]=t[s];if(t.toString!==Object.prototype.toString)i.toString=t.toString;return i}var k={};k.__name__=true;k._new=function(){var e;return new g};var i=e["Demo"]=function(){};i.__name__=true;i.main=function(){};i.parse=function(e){var t=new ce(e);return t.document};i.hxgen=function(e){return u.parse(e)};var n=function(){};n.__name__=true;n.cca=function(e,t){var r=e.charCodeAt(t);if(r!=r){return undefined}return r};n.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var a=function(e,t){this.min=e;this.max=t};a.__name__=true;a.prototype={__class__:a};Math.__name__=true;var h=function(){};h.__name__=true;h.string=function(e){return m.__string_rec(e,"")};var u=e["graphql"]["HaxeGenerator"]=function(e){this.defined_types=[];this.referenced_types=[];this._interfaces=k._new();this._stdout_writer=new o;this._stderr_writer=new o;this.init_options(e)};u.__name__=true;u.parse=function(e,t){var r=new u(t);if(!r._stderr_writer.is_empty()){return{stdout:"",stderr:r._stderr_writer.toString()}}return r.parse_document(e)};u.prototype={init_options:function(e){this._options=e==null?{}:e;if(this._options.type==null){this._options.type="typedefs"}if(this._options.null_wraps!=false){this._options.null_wraps=true}},parse_document:function(e){this.init_base_types();var t=0;var r=e.definitions;while(t<r.length){var i=r[t];++t;var s=i.kind;if(s=="InterfaceTypeDefinition"){this.write_interface_as_haxe_base_typedef(i)}}var n=0;var a=e.definitions;while(n<a.length){var u=a[n];++n;var o=u.kind;switch(o){case"EnumTypeDefinition":this.write_haxe_enum(u);break;case"InterfaceTypeDefinition":break;case"ObjectTypeDefinition":this.write_haxe_typedef(u);break;case"UnionTypeDefinition":this.write_union_as_haxe_enum(u);break;default:var l=u.name?" - "+h.string(u.name.value):"";this.error("Error: unknown / unsupported definition kind: "+h.string(u.kind)+l)}}return{stderr:this._stderr_writer.toString(),stdout:this._stdout_writer.toString()}},error:function(e){this._stderr_writer.append(e)},type_referenced:function(e){if(this.referenced_types.indexOf(e)<0){this.referenced_types.push(e)}},type_defined:function(e){if(this.defined_types.indexOf(e)<0){this.defined_types.push(e)}},parse_type:function(e,t){var r=e.kind=="ListType";var i=e.kind=="NonNullType";var s=i||r;var n=i?false:t==null||t.kind!="NonNullType";var a=new l(null,false,"","");if(!s){if(e.name==null){throw new z("Expecting type.name!")}if(e.type!=null){throw new z("Not expecting recursive type!")}if(e.kind!="NamedType"){throw new z("Expecting NamedType!")}this.type_referenced(e.name.value);a.optional=n;a.child=d.Right(e.name.value)}else{if(e.type==null){throw new z("Expecting recursive / wrapped type!")}a.optional=n;if(r){a.prefix+="Array<";a.suffix+=">"}a.child=d.Left(this.parse_type(e.type,e))}return a},type0_equal_to_type1:function(e,t){return e.toString(true)==t.toString(true)},write_haxe_typedef:function(e){var t=true;this._stdout_writer.append("typedef "+e.name.value+" = {");var r=k._new();var i=k._new();if(e.interfaces!=null){var s=0;var n=e.interfaces;while(s<n.length){var a=n[s];++s;var u=a.name.value;var o=this._interfaces;if(!(A[u]!=null?o.existsReserved(u):o.h.hasOwnProperty(u))){throw new z("Requested interface "+u+" (implemented by "+e.name.value+") not found")}var l=this._interfaces;var h=A[u]!=null?l.getReserved(u):l.h[u];this._stdout_writer.append("  /* implements interface */ > "+u+",");var f=h.keys();while(f.hasNext()){var c=f.next();if(!(A[c]!=null?i.existsReserved(c):i.h.hasOwnProperty(c))){var _=A[c]!=null?h.getReserved(c):h.h[c];if(A[c]!=null){i.setReserved(c,_)}else{i.h[c]=_}if(A[c]!=null){r.setReserved(c,u)}else{r.h[c]=u}}else if(!this.type0_equal_to_type1(A[c]!=null?h.getReserved(c):h.h[c],A[c]!=null?i.getReserved(c):i.h[c])){throw new z("Type "+e.name.value+" inherits field "+c+" from multiple interfaces ("+u+", "+(A[c]!=null?r.getReserved(c):r.h[c])+"), the types of which do not match.")}}}}this.type_defined(e.name.value);var p=0;var v=e.fields;while(p<v.length){var d=v[p];++p;var g=this.parse_type(d.type);var m=d.name.value;if(A[m]!=null?i.existsReserved(m):i.h.hasOwnProperty(m)){if(!this.type0_equal_to_type1(g,A[m]!=null?i.getReserved(m):i.h[m])){throw new z("Type "+e.name.value+" defines "+m+":"+g.toString(true)+", but Interface "+(A[m]!=null?r.getReserved(m):r.h[m])+" requires "+m+":"+(A[m]!=null?r.getReserved(m):r.h[m]).toString())}}else{var w="";var y=g.optional;g.optional=false;if(t){w=(y?"?":"")+m+": "+g.toString(this._options.null_wraps==true)+","}else{w=(y?"@:optional":"")+"var "+m+": "+g.toString(this._options.null_wraps==true)+";"}this._stdout_writer.append("  "+w)}}if(t){this._stdout_writer.chomp_trailing_comma()}this._stdout_writer.append("}")},write_interface_as_haxe_base_typedef:function(e){if(e.name==null||e.name.value==null){throw new z("Expecting interface must have a name")}var t=e.name.value;var r=this._interfaces;if(A[t]!=null?r.existsReserved(t):r.h.hasOwnProperty(t)){throw new z("Duplicate interface named "+t)}var i=k._new();var s=0;var n=e.fields;while(s<n.length){var a=n[s];++s;var u=this.parse_type(a.type);var o=a.name.value;if(A[o]!=null){i.setReserved(o,u)}else{i.h[o]=u}}var l=this._interfaces;if(A[t]!=null){l.setReserved(t,i)}else{l.h[t]=i}this.write_haxe_typedef(e)},write_haxe_enum:function(e){this.type_defined(e.name.value);this._stdout_writer.append("enum "+e.name.value+" {");var t=0;var r=e.values;while(t<r.length){var i=r[t];++t;this._stdout_writer.append("  "+i.name.value+";")}this._stdout_writer.append("}")},write_union_as_haxe_enum:function(e){this.type_defined(e.name.value);this._stdout_writer.append("enum "+e.name.value+" { // Union");var t=0;var r=e.types;while(t<r.length){var i=r[t];++t;if(i.name==null){throw new z("Expecting Named Type")}this.type_referenced(e.name.value);this._stdout_writer.append("  is_"+i.name.value+"(value:"+i.name.value+");")}this._stdout_writer.append("}")},init_base_types:function(){this._stdout_writer.append("/* - - - - Haxe / GraphQL compatibility types - - - - */");this._stdout_writer.append("abstract IDString(String) to String {\n  // Strict safety -- require explicit fromString");this._stdout_writer.append("  public static inline function fromString(s:String) return cast s;");this._stdout_writer.append("  public static inline function ofString(s:String) return cast s;");this._stdout_writer.append("}");this._stdout_writer.append("typedef ID = IDString;");this.type_defined("ID");this.type_defined("String");this.type_defined("Float");this.type_defined("Int");this._stdout_writer.append("typedef Boolean = Bool;");this.type_defined("Boolean");this._stdout_writer.append("/* - - - - - - - - - - - - - - - - - - - - - - - - - */\n\n")},__class__:u};var o=function(){this._output=[]};o.__name__=true;o.prototype={is_empty:function(){return this._output.length==0},append:function(e){this._output.push(e)},chomp_trailing_comma:function(){var e=this._output;var t=this._output.length-1;var r=new RegExp(",$","".split("u").join(""));e[t]=this._output[this._output.length-1].replace(r,"")},toString:function(){return this._output.join("\n")},__class__:o};var l=function(e,t,r,i){if(i==null){i=""}if(r==null){r=""}if(t==null){t=false}this.child=e;this.prefix=r;this.suffix=i;this.optional=t};l.__name__=true;l.prototype={toString:function(e){if(e==null){e=false}var t=this.prefix;var r=this.child;var i;switch(r[1]){case 0:var s=r[2];i=s.toString(e);break;case 1:var n=r[2];i=n;break}var a=t+i+this.suffix;if(e&&this.optional){a="Null<"+a+">"}return a},__class__:l};var f=function(e,t,r){this.file=e;this.min=t;this.max=r};f.__name__=true;f.prototype={__class__:f};var c=function(e,t){this.message=e;this.pos=t};c.__name__=true;c.prototype={__class__:c};var _=function(e){this.source=e;this.max=e.length;this.pos=0};_.__name__=true;_.prototype={skipIgnored:function(){while(this.lastSkip!=this.pos){this.lastSkip=this.pos;this.doSkipIgnored()}this.lastSkip=this.pos;return null},doSkipIgnored:function(){},allow:function(e){var t=this.skipIgnored();return this.allowHere(e)},allowHere:function(e){if(ve.hasSub(this.source,e,this.pos)){this.pos+=e.length;return true}else{return false}},expect:function(e){if(!this.allow(e)){this.die("expected "+e.toString())}return null},upto:function(e,t){var r=ve.indexOf(this.source,e,this.pos);if(r==-1){var i="expected "+e.toString();var s=this.pos;return _e.Failure(this.makeError(i,this.doMakePos(s,s+1)))}else{var n=r;var a=this.source;var u;var o;u=this.pos;o=n+(t?e.length:0);var l=ve._new(a.string,ve.wrap(a,u)+a.start,ve.clamp(a,o)+a.start);this.pos=n+e.length;return _e.Success(l)}},die:function(e,t){if(t==null){t=new a(this.pos,this.pos+1)}var r=t.min;var i=t.max;throw new z(this.makeError(e,this.doMakePos(r,i==null?r+1:i)))},makeError:function(e,t){throw new z("ni")},done:function(){this.skipIgnored();return this.pos>=this.max},doMakePos:function(e,t){throw new z("ni")},parseRepeatedly:function(e,t){if(t.start!=null&&!this.allow(t.start)){return}if(this.allow(t.end)){return}e();while(this.allow(t.sep)){if(t.allowTrailing&&this.allow(t.end)){return}e()}this.expect(t.end)},__class__:_};var fe=function(){};fe.__name__=true;var ce=function(e,t){if(t==null){t="Untitled"}_.call(this,ve.ofString(e));this._filename=t;try{this.document=this.readDocument()}catch(e){if(e instanceof z)e=e.val;if(m.__instanceof(e,c)){ce.format_and_rethrow(this._filename,this.source,e)}else throw e}};ce.__name__=true;ce.format_and_rethrow=function(e,t,r){var i=1;var s=0;var n=0;var a=r.pos.min;while(n<a){var u=n++;if(t.string.charCodeAt(u+t.start)==10){s=u;++i}}var o=""+e+":"+i+": characters "+(r.pos.min-s)+"-"+(r.pos.max-s)+" Error: "+r.message;throw new z(o)};ce.__super__=_;ce.prototype=r(_.prototype,{readDocument:function(){var e=[];while(true){var t=fe.WHITE;while(true){var r;if(this.pos<this.max){var i=this.source;var s=i.string.charCodeAt(this.pos+i.start);if(t!=null){r=t(s)}else{r=true}}else{r=false}if(!r){break}this.pos++}while(true){var n=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var a;if(this.pos<this.max){var u=this.source;var o=u.string.charCodeAt(this.pos+u.start);if(n!=null){a=n(o)}else{a=true}}else{a=false}if(a){this.upto(ve.ofString("\n"))}else{break}var l=fe.WHITE;while(true){var h;if(this.pos<this.max){var f=this.source;var c=f.string.charCodeAt(this.pos+f.start);if(l!=null){h=l(c)}else{h=true}}else{h=false}if(!h){break}this.pos++}}if(this.done()){break}var _=this.readDefinition();switch(_[1]){case 0:var p=_[2];e.push(p);break;case 1:var v=_[2];var d=this.pos;throw new z(this.makeError(v.message,this.doMakePos(d,d+1)));break}}return{definitions:e}},readDefinition:function(){var e=fe.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var i=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(i)}else{t=true}}else{t=false}if(!t){break}this.pos++}while(true){var s=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var n;if(this.pos<this.max){var a=this.source;var u=a.string.charCodeAt(this.pos+a.start);if(s!=null){n=s(u)}else{n=true}}else{n=false}if(n){this.upto(ve.ofString("\n"))}else{break}var o=fe.WHITE;while(true){var l;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(o!=null){l=o(f)}else{l=true}}else{l=false}if(!l){break}this.pos++}}var c=this.pos;var _;var p=this.ident(true);switch(p[1]){case 0:var v=p[2];if(ve.equalsString(v,"type")){_=this.readTypeDefinition(c)}else{var d=p[2];if(ve.equalsString(d,"interface")){_=this.readTypeDefinition(c,true)}else{var g=p[2];if(ve.equalsString(g,"schema")){_=this.readTypeDefinition(c,false,true)}else{var m=p[2];if(ve.equalsString(m,"enum")){_=this.readEnumDefinition(c)}else{var w=p[2];if(ve.equalsString(w,"union")){_=this.readUnionDefinition(c)}else{var y=this.source;var k;var S;k=c;S=this.pos;_=_e.Failure(this.makeError('Got "'+ve._new(y.string,ve.wrap(y,k)+y.start,ve.clamp(y,S)+y.start).toString()+'", expecting keyword: type interface enum schema union',this.doMakePos(c,c+1)))}}}}}break;case 1:var T=p[2];_=_e.Failure(T);break}return _},readTypeDefinition:function(e,t,r){if(r==null){r=false}if(t==null){t=false}var i=this;var s={loc:{start:e,end:e,source:this._filename,startToken:null,endToken:null},kind:"ObjectTypeDefinition",name:null,fields:[]};if(t){s.kind="InterfaceTypeDefinition"}if(r){s.kind="SchemaDefinition"}var n=[];var a=fe.WHITE;while(true){var u;if(this.pos<this.max){var o=this.source;var l=o.string.charCodeAt(this.pos+o.start);if(a!=null){u=a(l)}else{u=true}}else{u=false}if(!u){break}this.pos++}while(true){var h=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var f;if(this.pos<this.max){var c=this.source;var _=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(_)}else{f=true}}else{f=false}if(f){this.upto(ve.ofString("\n"))}else{break}var p=fe.WHITE;while(true){var v;if(this.pos<this.max){var d=this.source;var g=d.string.charCodeAt(this.pos+d.start);if(p!=null){v=p(g)}else{v=true}}else{v=false}if(!v){break}this.pos++}}if(!r){var m=pe.sure(this.ident()).toString();s.name=this.mkNameNode(m);var w=fe.WHITE;while(true){var y;if(this.pos<this.max){var k=this.source;var S=k.string.charCodeAt(this.pos+k.start);if(w!=null){y=w(S)}else{y=true}}else{y=false}if(!y){break}this.pos++}while(true){var T=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var x;if(this.pos<this.max){var C=this.source;var b=C.string.charCodeAt(this.pos+C.start);if(T!=null){x=T(b)}else{x=true}}else{x=false}if(x){this.upto(ve.ofString("\n"))}else{break}var E=fe.WHITE;while(true){var A;if(this.pos<this.max){var N=this.source;var I=N.string.charCodeAt(this.pos+N.start);if(E!=null){A=E(I)}else{A=true}}else{A=false}if(!A){break}this.pos++}}}var H=null;if(this.allow(ve.ofString("implements"))){if(t){var R=this.pos;return _e.Failure(this.makeError("Interfaces cannot implement interfaces.",this.doMakePos(R,R+1)))}this.parseRepeatedly(function(){var e=i.ident();if(!pe.isSuccess(e)){H=_e.Failure(e.slice(2)[0]);return}var t=pe.sure(e).toString();var r={kind:"NamedType",name:i.mkNameNode(t)};n.push(r)},{end:ve.ofString("{"),sep:ve.ofString("&"),allowTrailing:false})}else{this.expect(ve.ofString("{"))}if(H!=null){return H}while(true){var M=this.readFieldDefinition();switch(M[1]){case 0:var O=M[2];s.fields.push(O);break;case 1:var D=M[2];return _e.Failure(D)}if(this.allow(ve.ofString("}"))){break}}s.loc.end=this.pos;var W=fe.WHITE;while(true){var F;if(this.pos<this.max){var P=this.source;var q=P.string.charCodeAt(this.pos+P.start);if(W!=null){F=W(q)}else{F=true}}else{F=false}if(!F){break}this.pos++}while(true){var L=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var j;if(this.pos<this.max){var U=this.source;var B=U.string.charCodeAt(this.pos+U.start);if(L!=null){j=L(B)}else{j=true}}else{j=false}if(j){this.upto(ve.ofString("\n"))}else{break}var G=fe.WHITE;while(true){var $;if(this.pos<this.max){var K=this.source;var Y=K.string.charCodeAt(this.pos+K.start);if(G!=null){$=G(Y)}else{$=true}}else{$=false}if(!$){break}this.pos++}}if(t){var J=s;return _e.Success(J)}else if(r){throw new z("SchemaDefinitionNode is not yet supported...")}else{var Q={name:s.name,loc:s.loc,kind:s.kind,fields:s.fields,interfaces:n};return _e.Success(Q)}},mkNameNode:function(e){return{kind:"NamedType",value:e,loc:null}},readEnumDefinition:function(e){var t={loc:{start:e,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"EnumTypeDefinition",name:null,values:[]};var r=fe.WHITE;while(true){var i;if(this.pos<this.max){var s=this.source;var n=s.string.charCodeAt(this.pos+s.start);if(r!=null){i=r(n)}else{i=true}}else{i=false}if(!i){break}this.pos++}while(true){var a=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var u;if(this.pos<this.max){var o=this.source;var l=o.string.charCodeAt(this.pos+o.start);if(a!=null){u=a(l)}else{u=true}}else{u=false}if(u){this.upto(ve.ofString("\n"))}else{break}var h=fe.WHITE;while(true){var f;if(this.pos<this.max){var c=this.source;var _=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(_)}else{f=true}}else{f=false}if(!f){break}this.pos++}}var p=pe.sure(this.ident()).toString();t.name=this.mkNameNode(p);var v=fe.WHITE;while(true){var d;if(this.pos<this.max){var g=this.source;var m=g.string.charCodeAt(this.pos+g.start);if(v!=null){d=v(m)}else{d=true}}else{d=false}if(!d){break}this.pos++}while(true){var w=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var y;if(this.pos<this.max){var k=this.source;var S=k.string.charCodeAt(this.pos+k.start);if(w!=null){y=w(S)}else{y=true}}else{y=false}if(y){this.upto(ve.ofString("\n"))}else{break}var T=fe.WHITE;while(true){var x;if(this.pos<this.max){var C=this.source;var b=C.string.charCodeAt(this.pos+C.start);if(T!=null){x=T(b)}else{x=true}}else{x=false}if(!x){break}this.pos++}}this.expect(ve.ofString("{"));while(true){var E=fe.WHITE;while(true){var A;if(this.pos<this.max){var N=this.source;var I=N.string.charCodeAt(this.pos+N.start);if(E!=null){A=E(I)}else{A=true}}else{A=false}if(!A){break}this.pos++}while(true){var H=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var R;if(this.pos<this.max){var M=this.source;var O=M.string.charCodeAt(this.pos+M.start);if(H!=null){R=H(O)}else{R=true}}else{R=false}if(R){this.upto(ve.ofString("\n"))}else{break}var D=fe.WHITE;while(true){var W;if(this.pos<this.max){var F=this.source;var P=F.string.charCodeAt(this.pos+F.start);if(D!=null){W=D(P)}else{W=true}}else{W=false}if(!W){break}this.pos++}}var q=this.ident();if(!pe.isSuccess(q)){return _e.Failure(q.slice(2)[0])}var L={kind:"NamedType",name:this.mkNameNode(pe.sure(q).toString())};t.values.push(L);var j=fe.WHITE;while(true){var U;if(this.pos<this.max){var B=this.source;var G=B.string.charCodeAt(this.pos+B.start);if(j!=null){U=j(G)}else{U=true}}else{U=false}if(!U){break}this.pos++}while(true){var $=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var K;if(this.pos<this.max){var Y=this.source;var J=Y.string.charCodeAt(this.pos+Y.start);if($!=null){K=$(J)}else{K=true}}else{K=false}if(K){this.upto(ve.ofString("\n"))}else{break}var Q=fe.WHITE;while(true){var z;if(this.pos<this.max){var V=this.source;var X=V.string.charCodeAt(this.pos+V.start);if(Q!=null){z=Q(X)}else{z=true}}else{z=false}if(!z){break}this.pos++}}if(this.allow(ve.ofString("}"))){break}}t.loc.end=this.pos;var Z=fe.WHITE;while(true){var ee;if(this.pos<this.max){var te=this.source;var re=te.string.charCodeAt(this.pos+te.start);if(Z!=null){ee=Z(re)}else{ee=true}}else{ee=false}if(!ee){break}this.pos++}while(true){var ie=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var se;if(this.pos<this.max){var ne=this.source;var ae=ne.string.charCodeAt(this.pos+ne.start);if(ie!=null){se=ie(ae)}else{se=true}}else{se=false}if(se){this.upto(ve.ofString("\n"))}else{break}var ue=fe.WHITE;while(true){var oe;if(this.pos<this.max){var le=this.source;var he=le.string.charCodeAt(this.pos+le.start);if(ue!=null){oe=ue(he)}else{oe=true}}else{oe=false}if(!oe){break}this.pos++}}return _e.Success(t)},readUnionDefinition:function(e){var t={loc:{start:e,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"UnionTypeDefinition",name:null,types:[]};var r=fe.WHITE;while(true){var i;if(this.pos<this.max){var s=this.source;var n=s.string.charCodeAt(this.pos+s.start);if(r!=null){i=r(n)}else{i=true}}else{i=false}if(!i){break}this.pos++}while(true){var a=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var u;if(this.pos<this.max){var o=this.source;var l=o.string.charCodeAt(this.pos+o.start);if(a!=null){u=a(l)}else{u=true}}else{u=false}if(u){this.upto(ve.ofString("\n"))}else{break}var h=fe.WHITE;while(true){var f;if(this.pos<this.max){var c=this.source;var _=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(_)}else{f=true}}else{f=false}if(!f){break}this.pos++}}var p=pe.sure(this.ident()).toString();t.name=this.mkNameNode(p);var v=fe.WHITE;while(true){var d;if(this.pos<this.max){var g=this.source;var m=g.string.charCodeAt(this.pos+g.start);if(v!=null){d=v(m)}else{d=true}}else{d=false}if(!d){break}this.pos++}while(true){var w=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var y;if(this.pos<this.max){var k=this.source;var S=k.string.charCodeAt(this.pos+k.start);if(w!=null){y=w(S)}else{y=true}}else{y=false}if(y){this.upto(ve.ofString("\n"))}else{break}var T=fe.WHITE;while(true){var x;if(this.pos<this.max){var C=this.source;var b=C.string.charCodeAt(this.pos+C.start);if(T!=null){x=T(b)}else{x=true}}else{x=false}if(!x){break}this.pos++}}this.expect(ve.ofString("="));while(true){var E=fe.WHITE;while(true){var A;if(this.pos<this.max){var N=this.source;var I=N.string.charCodeAt(this.pos+N.start);if(E!=null){A=E(I)}else{A=true}}else{A=false}if(!A){break}this.pos++}while(true){var H=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var R;if(this.pos<this.max){var M=this.source;var O=M.string.charCodeAt(this.pos+M.start);if(H!=null){R=H(O)}else{R=true}}else{R=false}if(R){this.upto(ve.ofString("\n"))}else{break}var D=fe.WHITE;while(true){var W;if(this.pos<this.max){var F=this.source;var P=F.string.charCodeAt(this.pos+F.start);if(D!=null){W=D(P)}else{W=true}}else{W=false}if(!W){break}this.pos++}}var q=this.ident();if(!pe.isSuccess(q)){return _e.Failure(q.slice(2)[0])}var L={kind:"NamedType",name:this.mkNameNode(pe.sure(q).toString())};t.types.push(L);if(!this.allow(ve.ofString("|"))){break}}t.loc.end=this.pos;var j=fe.WHITE;while(true){var U;if(this.pos<this.max){var B=this.source;var G=B.string.charCodeAt(this.pos+B.start);if(j!=null){U=j(G)}else{U=true}}else{U=false}if(!U){break}this.pos++}while(true){var $=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var K;if(this.pos<this.max){var Y=this.source;var J=Y.string.charCodeAt(this.pos+Y.start);if($!=null){K=$(J)}else{K=true}}else{K=false}if(K){this.upto(ve.ofString("\n"))}else{break}var Q=fe.WHITE;while(true){var z;if(this.pos<this.max){var V=this.source;var X=V.string.charCodeAt(this.pos+V.start);if(Q!=null){z=Q(X)}else{z=true}}else{z=false}if(!z){break}this.pos++}}return _e.Success(t)},readFieldDefinition:function(){var e=fe.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var i=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(i)}else{t=true}}else{t=false}if(!t){break}this.pos++}while(true){var s=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var n;if(this.pos<this.max){var a=this.source;var u=a.string.charCodeAt(this.pos+a.start);if(s!=null){n=s(u)}else{n=true}}else{n=false}if(n){this.upto(ve.ofString("\n"))}else{break}var o=fe.WHITE;while(true){var l;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(o!=null){l=o(f)}else{l=true}}else{l=false}if(!l){break}this.pos++}}var c={loc:{start:this.pos,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"ObjectTypeDefinition",name:null,type:null,arguments:[],directives:[]};var _=false;var p=false;var v=false;var d=pe.sure(this.ident()).toString();c.name=this.mkNameNode(d);this.expect(ve.ofString(":"));if(this.allow(ve.ofString("["))){_=true}var g=fe.WHITE;while(true){var m;if(this.pos<this.max){var w=this.source;var y=w.string.charCodeAt(this.pos+w.start);if(g!=null){m=g(y)}else{m=true}}else{m=false}if(!m){break}this.pos++}var k=this.ident();if(!pe.isSuccess(k)){return _e.Failure(k.slice(2)[0])}var S={kind:"NamedType",name:this.mkNameNode(pe.sure(k).toString())};var T=fe.WHITE;while(true){var x;if(this.pos<this.max){var C=this.source;var b=C.string.charCodeAt(this.pos+C.start);if(T!=null){x=T(b)}else{x=true}}else{x=false}if(!x){break}this.pos++}if(_){if(this.allow(ve.ofString("!"))){p=true}var E=fe.WHITE;while(true){var A;if(this.pos<this.max){var N=this.source;var I=N.string.charCodeAt(this.pos+N.start);if(E!=null){A=E(I)}else{A=true}}else{A=false}if(!A){break}this.pos++}this.expect(ve.ofString("]"))}var H=fe.WHITE;while(true){var R;if(this.pos<this.max){var M=this.source;var O=M.string.charCodeAt(this.pos+M.start);if(H!=null){R=H(O)}else{R=true}}else{R=false}if(!R){break}this.pos++}if(this.allow(ve.ofString("!"))){v=true}var D=c;if(v){D.type={type:null,kind:"NonNullType"};D=D.type}if(_){D.type={type:null,kind:"ListType"};D=D.type}if(p){D.type={type:null,kind:"NonNullType"};D=D.type}D.type=S;c.loc.end=this.pos;var W=fe.WHITE;while(true){var F;if(this.pos<this.max){var P=this.source;var q=P.string.charCodeAt(this.pos+P.start);if(W!=null){F=W(q)}else{F=true}}else{F=false}if(!F){break}this.pos++}while(true){var L=function(t){return function(e){return e==t[0]}}([ce.COMMENT_CHAR]);var j;if(this.pos<this.max){var U=this.source;var B=U.string.charCodeAt(this.pos+U.start);if(L!=null){j=L(B)}else{j=true}}else{j=false}if(j){this.upto(ve.ofString("\n"))}else{break}var G=fe.WHITE;while(true){var $;if(this.pos<this.max){var K=this.source;var Y=K.string.charCodeAt(this.pos+K.start);if(G!=null){$=G(Y)}else{$=true}}else{$=false}if(!$){break}this.pos++}}return _e.Success(c)},ident:function(e){if(e==null){e=false}var t;var r;if(e){var i=ce.IDENT_START;if(this.pos<this.max){var s=this.source;var n=s.string.charCodeAt(this.pos+s.start);if(i!=null){r=i(n)}else{r=true}}else{r=false}}else{r=false}if(!r){if(!e){var a=ce.IDENT_START;this.skipIgnored();if(this.pos<this.max){var u=this.source;var o=u.string.charCodeAt(this.pos+u.start);if(a!=null){t=a(o)}else{t=true}}else{t=false}}else{t=false}}else{t=true}if(t){var l=ce.IDENT_CONTD;this.skipIgnored();var h=this.pos;while(true){var f;if(this.pos<this.max){var c=this.source;var _=c.string.charCodeAt(this.pos+c.start);if(l!=null){f=l(_)}else{f=true}}else{f=false}if(!f){break}this.pos++}var p=this.source;var v;var d;v=h;d=this.pos;return _e.Success(ve._new(p.string,ve.wrap(p,v)+p.start,ve.clamp(p,d)+p.start))}else{var g=this.pos;return _e.Failure(this.makeError("Identifier expected",this.doMakePos(g,g+1)))}},doSkipIgnored:function(){var e=fe.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var i=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(i)}else{t=true}}else{t=false}if(!t){break}this.pos++}},doMakePos:function(e,t){return new f("Untitled",e,t)},makeError:function(e,t){return new c(e,t)},__class__:ce});var p={__ename__:true,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};p.CFunction=["CFunction",0];p.CFunction.toString=s;p.CFunction.__enum__=p;p.Module=function(e){var t=["Module",1,e];t.__enum__=p;t.toString=s;return t};p.FilePos=function(e,t,r){var i=["FilePos",2,e,t,r];i.__enum__=p;i.toString=s;return i};p.Method=function(e,t){var r=["Method",3,e,t];r.__enum__=p;r.toString=s;return r};p.LocalFunction=function(e){var t=["LocalFunction",4,e];t.__enum__=p;t.toString=s;return t};var v=function(){};v.__name__=true;var d={__ename__:true,__constructs__:["Left","Right"]};d.Left=function(e){var t=["Left",0,e];t.__enum__=d;t.toString=s;return t};d.Right=function(e){var t=["Right",1,e];t.__enum__=d;t.toString=s;return t};var g=function(){this.h={}};g.__name__=true;g.__interfaces__=[v];g.prototype={setReserved:function(e,t){if(this.rh==null){this.rh={}}this.rh["$"+e]=t},getReserved:function(e){if(this.rh==null){return null}else{return this.rh["$"+e]}},existsReserved:function(e){if(this.rh==null){return false}return this.rh.hasOwnProperty("$"+e)},keys:function(){return n.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h){if(this.h.hasOwnProperty(t)){e.push(t)}}if(this.rh!=null){for(var t in this.rh){if(t.charCodeAt(0)==36){e.push(t.substr(1))}}}return e},__class__:g};var z=function(e){Error.call(this);this.val=e;this.message=String(e);if(Error.captureStackTrace){Error.captureStackTrace(this,z)}};z.__name__=true;z.wrap=function(e){if(e instanceof Error){return e}else{return new z(e)}};z.__super__=Error;z.prototype=r(Error.prototype,{__class__:z});var m=function(){};m.__name__=true;m.getClass=function(e){if(e instanceof Array&&e.__enum__==null){return Array}else{var t=e.__class__;if(t!=null){return t}var r=m.__nativeClassName(e);if(r!=null){return m.__resolveNativeClass(r)}return null}};m.__string_rec=function(e,t){if(e==null){return"null"}if(t.length>=5){return"<...>"}var r=typeof e;if(r=="function"&&(e.__name__||e.__ename__)){r="object"}switch(r){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2){return e[0]}var i=e[0]+"(";t+="\t";var s=2;var n=e.length;while(s<n){var a=s++;if(a!=2){i+=","+m.__string_rec(e[a],t)}else{i+=m.__string_rec(e[a],t)}}return i+")"}var u=e.length;var o;var l="[";t+="\t";var h=0;var f=u;while(h<f){var c=h++;l+=(c>0?",":"")+m.__string_rec(e[c],t)}l+="]";return l}var _;try{_=e.toString}catch(e){return"???"}if(_!=null&&_!=Object.toString&&typeof _=="function"){var p=e.toString();if(p!="[object Object]"){return p}}var v=null;var d="{\n";t+="\t";var g=e.hasOwnProperty!=null;for(var v in e){if(g&&!e.hasOwnProperty(v)){continue}if(v=="prototype"||v=="__class__"||v=="__super__"||v=="__interfaces__"||v=="__properties__"){continue}if(d.length!=2){d+=", \n"}d+=t+v+" : "+m.__string_rec(e[v],t)}t=t.substring(1);d+="\n"+t+"}";return d;case"string":return e;default:return String(e)}};m.__interfLoop=function(e,t){if(e==null){return false}if(e==t){return true}var r=e.__interfaces__;if(r!=null){var i=0;var s=r.length;while(i<s){var n=i++;var a=r[n];if(a==t||m.__interfLoop(a,t)){return true}}}return m.__interfLoop(e.__super__,t)};m.__instanceof=function(e,t){if(t==null){return false}switch(t){case Array:if(e instanceof Array){return e.__enum__==null}else{return false}break;case C:return typeof e=="boolean";case T:return true;case x:return typeof e=="number";case S:if(typeof e=="number"){return(e|0)===e}else{return false}break;case String:return typeof e=="string";default:if(e!=null){if(typeof t=="function"){if(e instanceof t){return true}if(m.__interfLoop(m.getClass(e),t)){return true}}else if(typeof t=="object"&&m.__isNativeObj(t)){if(e instanceof t){return true}}}else{return false}if(t==b?e.__name__!=null:false){return true}if(t==E?e.__ename__!=null:false){return true}return e.__enum__==t}};m.__nativeClassName=function(e){var t=m.__toStr.call(e).slice(8,-1);if(t=="Object"||t=="Function"||t=="Math"||t=="JSON"){return null}return t};m.__isNativeObj=function(e){return m.__nativeClassName(e)!=null};m.__resolveNativeClass=function(e){return t[e]};var w=function(e,t,r){if(e==null){e=500}this.isTinkError=true;this.code=e;this.message=t;this.pos=r;this.exceptionStack=[];this.callStack=[]};w.__name__=true;w.asError=function(e){if(e!=null&&e.isTinkError){return e}else{return null}};w.prototype={printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var e="Error#"+this.code+": "+this.message;if(this.pos!=null){e+=" @ "+this.printPos()}return e},throwSelf:function(){throw new z(this)},__class__:w};var _e={__ename__:true,__constructs__:["Success","Failure"]};_e.Success=function(e){var t=["Success",0,e];t.__enum__=_e;t.toString=s;return t};_e.Failure=function(e){var t=["Failure",1,e];t.__enum__=_e;t.toString=s;return t};var pe=function(){};pe.__name__=true;pe.sure=function(e){switch(e[1]){case 0:var t=e[2];return t;case 1:var r=e[2];var i=w.asError(r);if(i==null){throw new z(r)}else{var s=i;return s.throwSelf()}break}};pe.isSuccess=function(e){if(e[1]==0){return true}else{return false}};var y=function(e,t,r){this.string=e;this.start=t;this.end=r;if((this.length=r-t)<0){this.length=0;this.end=this.start}};y.__name__=true;y.prototype={toString:function(){if(this.representation==null){this.representation=this.string.substring(this.start,this.end)}return this.representation},__class__:y};var ve={};ve.__name__=true;ve._new=function(e,t,r){var i=new y(e,t==e.length?t:t<0?t%e.length+e.length:t%e.length,r==e.length?r:r<0?r%e.length+e.length:r%e.length);return i};ve.clamp=function(e,t){if(t<0){if(-t>e.length){return 0}else{return t+e.length}}else if(t>e.length){return e.length}else{return t}};ve.wrap=function(e,t){if(e.length==0){return 0}else if(t<0){return t%e.length+e.length}else{return t%e.length}};ve.ofString=function(e){if(e==null||e==""){return ve.EMPTY}else if(e.length==1){var t=e.charCodeAt(0);var r=t;if(r<ve.CHARS.length){return ve.CHARS[r]}else{return new y(e,0,e.length)}}else{return new y(e,0,e.length)}};ve.hasSub=function(e,t,r){if(r==null){r=0}r=ve.wrap(e,r);if(r+t.length>e.length){return false}var i=e;var s=t;return ve.isEqual(i.string,i.start+r,t.length,s.string,s.start,s.length)};ve.indexOf=function(e,t,r){if(r==null){r=0}r=ve.wrap(e,r);var i=e.string.indexOf(t.toString(),r+e.start);if(i==-1){return-1}else{var s=i;return s-e.start}};ve.isEqual=function(e,t,r,i,s,n){if(n!=r){return false}var a=0;var u=n;while(a<u){var o=a++;if(e.charCodeAt(t+o)!=i.charCodeAt(s+o)){return false}}return true};ve.equalsString=function(e,t){if(t==null||t.length!=e.length){return false}else{return ve.isEqual(e.string,e.start,e.length,t,0,t.length)}};String.prototype.__class__=String;String.__name__=true;Array.__name__=true;var S={__name__:["Int"]};var T={__name__:["Dynamic"]};var x=Number;x.__name__=["Float"];var C=Boolean;C.__ename__=["Bool"];var b={__name__:["Class"]};var E={};var A={};fe.WHITE=function(e){return e<33};fe.LOWER=function(e){if(e>=97){return e<=122}else{return false}};fe.UPPER=function(e){if(e>=65){return e<=90}else{return false}};fe.DIGIT=function(e){if(e>=48){return e<=57}else{return false}};ce.COMMENT_CHAR=35;ce.IDENT_START=function(e){var t;var r=fe.UPPER;var i=fe.LOWER;var s=function(e){if(!(r==null||r(e))){if(i!=null){return i(e)}else{return true}}else{return true}};var n=function(e){return e==95};t=function(e){if(!(s==null||s(e))){if(n!=null){return n(e)}else{return true}}else{return true}};return t}(this);ce.IDENT_CONTD=function(e){var t;var r=ce.IDENT_START;var i=fe.DIGIT;t=function(e){if(!(r==null||r(e))){if(i!=null){return i(e)}else{return true}}else{return true}};return t}(this);m.__toStr={}.toString;ve.CHARS=function(e){var t;var r=[];{var i=0;while(i<128){var s=i++;r.push(new y(String.fromCharCode(s),0,1))}}t=r;return t}(this);ve.EMPTY=new y("",0,0);i.main()})(typeof exports!="undefined"?exports:typeof window!="undefined"?window:typeof self!="undefined"?self:this,typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);
