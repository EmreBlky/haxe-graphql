(function(e,t){"use strict";e["graphql"]=e["graphql"]||{};var r=function(){return y.__string_rec(this,"")};function s(e,t){function r(){}r.prototype=e;var s=new r;for(var i in t)s[i]=t[i];if(t.toString!==Object.prototype.toString)s.toString=t.toString;return s}var i={};i.__name__=true;i._new=function(){var e;return new k};var a=e["Demo"]=function(){};a.__name__=true;a.main=function(){};a.parse=function(e){var t=new d(e);return t.document};a.hxgen=function(e){return o.parse(e)};var n=function(){};n.__name__=true;n.cca=function(e,t){var r=e.charCodeAt(t);if(r!=r){return undefined}return r};n.substr=function(e,t,r){if(r==null){r=e.length}else if(r<0){if(t==0){r=e.length+r}else{return""}}return e.substr(t,r)};n.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var u=function(e,t){this.min=e;this.max=t};u.__name__=true;u.prototype={__class__:u};Math.__name__=true;var l=function(){};l.__name__=true;l.string=function(e){return y.__string_rec(e,"")};var o=e["graphql"]["HaxeGenerator"]=function(e){this.defined_types=[];this.referenced_types=[];this._interfaces=i._new();this._stdout_writer=new h;this._stderr_writer=new h;this.init_options(e)};o.__name__=true;o.parse=function(e,t,r){if(r==null){r=true}var s={stdout:"",stderr:""};var i=new o(t);if(!i._stderr_writer.is_empty()){s.stderr=i._stderr_writer.toString()}else{s=i.parse_document(e)}if(r&&s.stderr.length>0){throw new S(s.stderr)}return s};o.prototype={init_options:function(e){this._options=e==null?{}:e;if(this._options.generate==null){this._options.generate="typedefs"}if(this._options.disable_null_wrappers==null){this._options.disable_null_wrappers=false}},handle_args:function(e,t){if(t==null||t.length==0){return}var r=0;while(r<t.length){var s=t[r];++r;var i="Args_"+e.join("Dot")+"_"+s.field;var a={kind:"ObjectTypeDefinition",name:{value:i,kind:"Name"},fields:s["arguments"]};this.write_haxe_typedef(a)}},parse_document:function(e){var t=this;this.init_base_types();var r=function(){t._stdout_writer.append("")};var s=0;var i=e.definitions;while(s<i.length){var a=i[s];++s;var n=a.kind;if(n=="InterfaceTypeDefinition"){var u=this.write_interface_as_haxe_base_typedef(a);r();this.handle_args([this.get_def_name(a)],u)}}var o=0;var h=e.definitions;while(o<h.length){var f=h[o];++o;var c=f.kind;switch(c){case"EnumTypeDefinition":this.write_haxe_enum(f);r();break;case"InterfaceTypeDefinition":break;case"ObjectTypeDefinition":var v=this.write_haxe_typedef(f);r();this.handle_args([this.get_def_name(f)],v);break;case"ScalarTypeDefinition":this.write_haxe_scalar(f);r();break;case"SchemaDefinition":this.write_schema_def(f);r();break;case"UnionTypeDefinition":this.write_union_as_haxe_abstract(f);r();break;default:var p=f.name?" - "+l.string(f.name.value):"";this.error("Error: unknown / unsupported definition kind: "+l.string(f.kind)+p)}}return{stderr:this._stderr_writer.toString(),stdout:this._stdout_writer.toString()}},get_def_name:function(e){return e.name.value},error:function(e){this._stderr_writer.append(e)},type_referenced:function(e){if(this.referenced_types.indexOf(e)<0){this.referenced_types.push(e)}},type_defined:function(e){if(this.defined_types.indexOf(e)<0){this.defined_types.push(e)}},parse_type:function(e,t){var r=e.kind=="ListType";var s=e.kind=="NonNullType";var i=s||r;var a=s?false:t==null||t.kind!="NonNullType";var n=new f(null,false,"","");if(!i){if(e.name==null){throw new S("Expecting type.name!")}if(e.type!=null){throw new S("Not expecting recursive type!")}if(e.kind!="NamedType"){throw new S("Expecting NamedType!")}this.type_referenced(e.name.value);n.optional=a;n.child=w.Right(e.name.value)}else{if(e.type==null){throw new S("Expecting recursive / wrapped type!")}n.optional=a;if(r){n.prefix+="Array<";n.suffix+=">"}n.child=w.Left(this.parse_type(e.type,e))}return n},type0_equal_to_type1:function(e,t){return e.toString(true)==t.toString(true)},write_haxe_typedef:function(e){var t=[];var r=true;this._stdout_writer.append("typedef "+e.name.value+" = {");var s=i._new();var a=i._new();if(e.interfaces!=null){var n=0;var u=e.interfaces;while(n<u.length){var l=u[n];++n;var o=l.name.value;var h=this._interfaces;if(!(O[o]!=null?h.existsReserved(o):h.h.hasOwnProperty(o))){throw new S("Requested interface "+o+" (implemented by "+e.name.value+") not found")}var f=this._interfaces;var c=O[o]!=null?f.getReserved(o):f.h[o];this._stdout_writer.append("  /* implements interface */ > "+o+",");var v=c.keys();while(v.hasNext()){var p=v.next();if(!(O[p]!=null?a.existsReserved(p):a.h.hasOwnProperty(p))){var _=O[p]!=null?c.getReserved(p):c.h[p];if(O[p]!=null){a.setReserved(p,_)}else{a.h[p]=_}if(O[p]!=null){s.setReserved(p,o)}else{s.h[p]=o}}else if(!this.type0_equal_to_type1(O[p]!=null?c.getReserved(p):c.h[p],O[p]!=null?a.getReserved(p):a.h[p])){throw new S("Type "+e.name.value+" inherits field "+p+" from multiple interfaces ("+o+", "+(O[p]!=null?s.getReserved(p):s.h[p])+"), the types of which do not match.")}}}}this.type_defined(e.name.value);var d=0;var g=e.fields;while(d<g.length){var m=g[d];++d;var w=this.parse_type(m.type);var k=m.name.value;if(m["arguments"]!=null&&m["arguments"].length>0){t.push({field:k,arguments:m["arguments"]})}if(O[k]!=null?a.existsReserved(k):a.h.hasOwnProperty(k)){if(!this.type0_equal_to_type1(w,O[k]!=null?a.getReserved(k):a.h[k])){throw new S("Type "+e.name.value+" defines "+k+":"+w.toString(true)+", but Interface "+(O[k]!=null?s.getReserved(k):s.h[k])+" requires "+k+":"+(O[k]!=null?s.getReserved(k):s.h[k]).toString())}}else{var y="";var C=w.optional;w.optional=false;if(r){y=(C?"?":"")+k+": "+w.toString(this._options.disable_null_wrappers==true)+","}else{y=(C?"@:optional":"")+"var "+k+": "+w.toString(this._options.disable_null_wrappers==true)+";"}this._stdout_writer.append("  "+y)}}if(r){this._stdout_writer.chomp_trailing_comma()}this._stdout_writer.append("}");return t},write_interface_as_haxe_base_typedef:function(e){var t=[];if(e.name==null||e.name.value==null){throw new S("Expecting interface must have a name")}var r=e.name.value;var s=this._interfaces;if(O[r]!=null?s.existsReserved(r):s.h.hasOwnProperty(r)){throw new S("Duplicate interface named "+r)}var a=i._new();var n=0;var u=e.fields;while(n<u.length){var l=u[n];++n;var o=this.parse_type(l.type);var h=l.name.value;if(O[h]!=null){a.setReserved(h,o)}else{a.h[h]=o}if(l["arguments"]!=null&&l["arguments"].length>0){t.push({field:h,arguments:l["arguments"]})}}var f=this._interfaces;if(O[r]!=null){f.setReserved(r,a)}else{f.h[r]=a}this.write_haxe_typedef(e);return t},write_haxe_enum:function(e){this.type_defined(e.name.value);this._stdout_writer.append("enum "+e.name.value+" {");var t=0;var r=e.values;while(t<r.length){var s=r[t];++t;this._stdout_writer.append("  "+s.name.value+";")}this._stdout_writer.append("}")},write_haxe_scalar:function(e){this.type_defined(e.name.value);this._stdout_writer.append("/* scalar "+e.name.value+" */\nabstract "+e.name.value+"(Dynamic) { }")},write_union_as_haxe_abstract:function(e){this.type_defined(e.name.value);var t=e.types.map(function(e){return e.name.value}).join(" | ");this._stdout_writer.append("/* union "+e.name.value+(" = "+t+" */"));this._stdout_writer.append("abstract "+e.name.value+"(Dynamic) {");var r=0;var s=e.types;while(r<s.length){var i=s[r];++r;if(i.name==null){throw new S("Expecting Named Type")}var a=i.name.value;this.type_referenced(e.name.value);this._stdout_writer.append(" @:from static function from"+a+"(v:"+a+") return cast v;")}this._stdout_writer.append("}")},write_schema_def:function(e){this._stdout_writer.append("/* Schema: */");var t=0;var r=e.operationTypes;while(t<r.length){var s=r[t];++t;var i=l.string(s.operation);switch(i){case"mutation":case"query":case"subscription":var a=n.substr(i,0,1).toUpperCase()+n.substr(i,1,null);this._stdout_writer.append("typedef Schema"+a+"Type = "+s.type.name.value+";");break;default:throw new S("Unexpected schema operation: "+i)}}},init_base_types:function(){this._stdout_writer.append("/* - - - - Haxe / GraphQL compatibility types - - - - */");this._stdout_writer.append("abstract IDString(String) to String {\n  // Strict safety -- require explicit fromString");this._stdout_writer.append("  public static inline function fromString(s:String) return cast s;");this._stdout_writer.append("  public static inline function ofString(s:String) return cast s;");this._stdout_writer.append("}");this._stdout_writer.append("typedef ID = IDString;");this.type_defined("ID");this.type_defined("String");this.type_defined("Float");this.type_defined("Int");this._stdout_writer.append("typedef Boolean = Bool;");this.type_defined("Boolean");this._stdout_writer.append("/* - - - - - - - - - - - - - - - - - - - - - - - - - */\n\n")},__class__:o};var h=function(){this._output=[]};h.__name__=true;h.prototype={is_empty:function(){return this._output.length==0},append:function(e){this._output.push(e)},chomp_trailing_comma:function(){var e=this._output;var t=this._output.length-1;var r=new RegExp(",$","".split("u").join(""));e[t]=this._output[this._output.length-1].replace(r,"")},toString:function(){return this._output.join("\n")},__class__:h};var f=function(e,t,r,s){if(s==null){s=""}if(r==null){r=""}if(t==null){t=false}this.child=e;this.prefix=r;this.suffix=s;this.optional=t};f.__name__=true;f.prototype={toString:function(e){if(e==null){e=false}var t=this.prefix;var r=this.child;var s;switch(r[1]){case 0:var i=r[2];s=i.toString(e);break;case 1:var a=r[2];s=a;break}var n=t+s+this.suffix;if(e&&this.optional){n="Null<"+n+">"}return n},__class__:f};var c=function(e,t,r){this.file=e;this.min=t;this.max=r};c.__name__=true;c.prototype={__class__:c};var v=function(e,t){this.message=e;this.pos=t};v.__name__=true;v.prototype={__class__:v};var p=function(e){this.source=e;this.max=e.length;this.pos=0};p.__name__=true;p.prototype={skipIgnored:function(){while(this.lastSkip!=this.pos){this.lastSkip=this.pos;this.doSkipIgnored()}this.lastSkip=this.pos;return null},doSkipIgnored:function(){},allow:function(e){var t=this.skipIgnored();return this.allowHere(e)},allowHere:function(e){if(A.hasSub(this.source,e,this.pos)){this.pos+=e.length;return true}else{return false}},expect:function(e){if(!this.allow(e)){this.die("expected "+e.toString())}return null},upto:function(e,t){var r=A.indexOf(this.source,e,this.pos);if(r==-1){var s="expected "+e.toString();var i=this.pos;return b.Failure(this.makeError(s,this.doMakePos(i,i+1)))}else{var a=r;var n=this.source;var u;var l;u=this.pos;l=a+(t?e.length:0);var o=A._new(n.string,A.wrap(n,u)+n.start,A.clamp(n,l)+n.start);this.pos=a+e.length;return b.Success(o)}},die:function(e,t){if(t==null){t=new u(this.pos,this.pos+1)}var r=t.min;var s=t.max;throw new S(this.makeError(e,this.doMakePos(r,s==null?r+1:s)))},makeError:function(e,t){throw new S("ni")},done:function(){this.skipIgnored();return this.pos>=this.max},doMakePos:function(e,t){throw new S("ni")},parseRepeatedly:function(e,t){if(t.start!=null&&!this.allow(t.start)){return}if(this.allow(t.end)){return}e();while(this.allow(t.sep)){if(t.allowTrailing&&this.allow(t.end)){return}e()}this.expect(t.end)},__class__:p};var _=function(){};_.__name__=true;var d=function(e,t){if(t==null){t="Untitled"}p.call(this,A.ofString(e));this._filename=t;try{this.document=this.readDocument()}catch(r){if(r instanceof S)r=r.val;if(y.__instanceof(r,v)){d.format_and_rethrow(this._filename,this.source,r)}else throw r}};d.__name__=true;d.format_and_rethrow=function(e,t,r){var s=1;var i=0;var a=0;var n=r.pos.min;while(a<n){var u=a++;if(t.string.charCodeAt(u+t.start)==10){i=u;++s}}var l=""+e+":"+s+": characters "+(r.pos.min-i)+"-"+(r.pos.max-i)+" Error: "+r.message;throw new S(l)};d.__super__=p;d.prototype=s(p.prototype,{readDocument:function(){var e=[];while(true){var t=_.WHITE;while(true){var r;if(this.pos<this.max){var s=this.source;var i=s.string.charCodeAt(this.pos+s.start);if(t!=null){r=t(i)}else{r=true}}else{r=false}if(!r){break}this.pos++}while(true){var a=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var n;if(this.pos<this.max){var u=this.source;var l=u.string.charCodeAt(this.pos+u.start);if(a!=null){n=a(l)}else{n=true}}else{n=false}if(n){this.upto(A.ofString("\n"))}else{break}var o=_.WHITE;while(true){var h;if(this.pos<this.max){var f=this.source;var c=f.string.charCodeAt(this.pos+f.start);if(o!=null){h=o(c)}else{h=true}}else{h=false}if(!h){break}this.pos++}}if(this.done()){break}var v=this.readDefinition();switch(v[1]){case 0:var p=v[2];e.push(p);break;case 1:var g=v[2];var m=this.pos;throw new S(this.makeError(g.message,this.doMakePos(m,m+1)));break}}return{definitions:e}},readDefinition:function(){var e=_.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var s=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(s)}else{t=true}}else{t=false}if(!t){break}this.pos++}while(true){var i=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var a;if(this.pos<this.max){var n=this.source;var u=n.string.charCodeAt(this.pos+n.start);if(i!=null){a=i(u)}else{a=true}}else{a=false}if(a){this.upto(A.ofString("\n"))}else{break}var l=_.WHITE;while(true){var o;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(l!=null){o=l(f)}else{o=true}}else{o=false}if(!o){break}this.pos++}}var c=this.pos;var v;var p=this.ident(true);switch(p[1]){case 0:var g=p[2];if(A.equalsString(g,"type")){v=this.readTypeDefinition(c,"ObjectTypeDefinition")}else{var m=p[2];if(A.equalsString(m,"interface")){v=this.readTypeDefinition(c,"InterfaceTypeDefinition")}else{var w=p[2];if(A.equalsString(w,"schema")){v=this.readSchemaDefinition(c)}else{var k=p[2];if(A.equalsString(k,"enum")){v=this.readEnumDefinition(c)}else{var S=p[2];if(A.equalsString(S,"union")){v=this.readUnionDefinition(c)}else{var y=p[2];if(A.equalsString(y,"scalar")){v=this.readScalarDefinition(c)}else{var C=this.source;var T;var x;T=c;x=this.pos;v=b.Failure(this.makeError('Got "'+A._new(C.string,A.wrap(C,T)+C.start,A.clamp(C,x)+C.start).toString()+'", expecting keyword: type interface enum schema union',this.doMakePos(c,c+1)))}}}}}}break;case 1:var E=p[2];v=b.Failure(E);break}return v},readTypeDefinition:function(e,t){var r=this;var s={loc:this.mkLoc(),kind:t};var i=s.kind=="InterfaceTypeDefinition";var a=this.readNameNode();if(!T.isSuccess(a)){return b.Failure(a.slice(2)[0])}s.name=T.sure(a);var n=_.WHITE;while(true){var u;if(this.pos<this.max){var l=this.source;var o=l.string.charCodeAt(this.pos+l.start);if(n!=null){u=n(o)}else{u=true}}else{u=false}if(!u){break}this.pos++}while(true){var h=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var f;if(this.pos<this.max){var c=this.source;var v=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(v)}else{f=true}}else{f=false}if(f){this.upto(A.ofString("\n"))}else{break}var p=_.WHITE;while(true){var g;if(this.pos<this.max){var m=this.source;var w=m.string.charCodeAt(this.pos+m.start);if(p!=null){g=p(w)}else{g=true}}else{g=false}if(!g){break}this.pos++}}var k=[];var S=_.WHITE;while(true){var y;if(this.pos<this.max){var C=this.source;var x=C.string.charCodeAt(this.pos+C.start);if(S!=null){y=S(x)}else{y=true}}else{y=false}if(!y){break}this.pos++}while(true){var E=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var I;if(this.pos<this.max){var H=this.source;var N=H.string.charCodeAt(this.pos+H.start);if(E!=null){I=E(N)}else{I=true}}else{I=false}if(I){this.upto(A.ofString("\n"))}else{break}var M=_.WHITE;while(true){var R;if(this.pos<this.max){var O=this.source;var W=O.string.charCodeAt(this.pos+O.start);if(M!=null){R=M(W)}else{R=true}}else{R=false}if(!R){break}this.pos++}}var D=null;if(this.allow(A.ofString("implements"))){if(i){var F=this.pos;return b.Failure(this.makeError("Interfaces cannot implement interfaces.",this.doMakePos(F,F+1)))}this.parseRepeatedly(function(){var e=r.readNameNode();if(!T.isSuccess(e)){D=b.Failure(e.slice(2)[0])}var t={kind:"NamedType",name:T.sure(e)};k.push(t)},{end:A.ofString("{"),sep:A.ofString("&"),allowTrailing:false})}else{this.expect(A.ofString("{"))}if(D!=null){return D}var P=s.fields=[];while(true){var j=this.readFieldDefinition();switch(j[1]){case 0:var q=j[2];P.push(q);break;case 1:var L=j[2];return b.Failure(L)}if(this.allow(A.ofString("}"))){break}}s.loc.end=this.pos;var V=_.WHITE;while(true){var U;if(this.pos<this.max){var G=this.source;var B=G.string.charCodeAt(this.pos+G.start);if(V!=null){U=V(B)}else{U=true}}else{U=false}if(!U){break}this.pos++}while(true){var $=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var K;if(this.pos<this.max){var X=this.source;var Y=X.string.charCodeAt(this.pos+X.start);if($!=null){K=$(Y)}else{K=true}}else{K=false}if(K){this.upto(A.ofString("\n"))}else{break}var J=_.WHITE;while(true){var Q;if(this.pos<this.max){var z=this.source;var Z=z.string.charCodeAt(this.pos+z.start);if(J!=null){Q=J(Z)}else{Q=true}}else{Q=false}if(!Q){break}this.pos++}}if(i){var ee=s;return b.Success(ee)}else{var te={name:T.sure(a),loc:s.loc,kind:s.kind,fields:P,interfaces:k};return b.Success(te)}},readSchemaDefinition:function(e){var t={loc:this.mkLoc(),kind:"SchemaDefinition",operationTypes:[],directives:null};var r=_.WHITE;while(true){var s;if(this.pos<this.max){var i=this.source;var a=i.string.charCodeAt(this.pos+i.start);if(r!=null){s=r(a)}else{s=true}}else{s=false}if(!s){break}this.pos++}while(true){var n=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var u;if(this.pos<this.max){var l=this.source;var o=l.string.charCodeAt(this.pos+l.start);if(n!=null){u=n(o)}else{u=true}}else{u=false}if(u){this.upto(A.ofString("\n"))}else{break}var h=_.WHITE;while(true){var f;if(this.pos<this.max){var c=this.source;var v=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(v)}else{f=true}}else{f=false}if(!f){break}this.pos++}}this.expect(A.ofString("{"));var p=_.WHITE;while(true){var g;if(this.pos<this.max){var m=this.source;var w=m.string.charCodeAt(this.pos+m.start);if(p!=null){g=p(w)}else{g=true}}else{g=false}if(!g){break}this.pos++}while(true){var k=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var S;if(this.pos<this.max){var y=this.source;var C=y.string.charCodeAt(this.pos+y.start);if(k!=null){S=k(C)}else{S=true}}else{S=false}if(S){this.upto(A.ofString("\n"))}else{break}var x=_.WHITE;while(true){var E;if(this.pos<this.max){var I=this.source;var H=I.string.charCodeAt(this.pos+I.start);if(x!=null){E=x(H)}else{E=true}}else{E=false}if(!E){break}this.pos++}}while(true){var N=d.IDENT_START;var M;if(this.pos<this.max){var R=this.source;var O=R.string.charCodeAt(this.pos+R.start);if(N!=null){M=N(O)}else{M=true}}else{M=false}if(M){var W=this.pos;var D=this.ident();var F=_.WHITE;while(true){var P;if(this.pos<this.max){var j=this.source;var q=j.string.charCodeAt(this.pos+j.start);if(F!=null){P=F(q)}else{P=true}}else{P=false}if(!P){break}this.pos++}while(true){var L=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var V;if(this.pos<this.max){var U=this.source;var G=U.string.charCodeAt(this.pos+U.start);if(L!=null){V=L(G)}else{V=true}}else{V=false}if(V){this.upto(A.ofString("\n"))}else{break}var B=_.WHITE;while(true){var $;if(this.pos<this.max){var K=this.source;var X=K.string.charCodeAt(this.pos+K.start);if(B!=null){$=B(X)}else{$=true}}else{$=false}if(!$){break}this.pos++}}var Y=this.pos;var J=this.readTypeNode();if(!T.isSuccess(J)){return b.Failure(J.slice(2)[0])}if(T.sure(J).kind!="NamedType"){return b.Failure(this.makeError("Expecting named type",this.doMakePos(Y,Y+1)))}var Q=T.sure(D).toString();switch(Q){case"mutation":case"query":case"subscription":var z={kind:"OperationTypeDefinition",operation:Q,type:T.sure(J)};t.operationTypes.push(z);break;default:return b.Failure(this.makeError("Unknown operation type "+Q,this.doMakePos(W,W+1)))}}else{var Z=_.WHITE;while(true){var ee;if(this.pos<this.max){var te=this.source;var re=te.string.charCodeAt(this.pos+te.start);if(Z!=null){ee=Z(re)}else{ee=true}}else{ee=false}if(!ee){break}this.pos++}while(true){var se=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var ie;if(this.pos<this.max){var ae=this.source;var ne=ae.string.charCodeAt(this.pos+ae.start);if(se!=null){ie=se(ne)}else{ie=true}}else{ie=false}if(ie){this.upto(A.ofString("\n"))}else{break}var ue=_.WHITE;while(true){var le;if(this.pos<this.max){var oe=this.source;var he=oe.string.charCodeAt(this.pos+oe.start);if(ue!=null){le=ue(he)}else{le=true}}else{le=false}if(!le){break}this.pos++}}this.expect(A.ofString("}"));break}}return b.Success(t)},readNameNode:function(e){if(e==null){e=true}if(e){var t=_.WHITE;while(true){var r;if(this.pos<this.max){var s=this.source;var i=s.string.charCodeAt(this.pos+s.start);if(t!=null){r=t(i)}else{r=true}}else{r=false}if(!r){break}this.pos++}while(true){var a=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var n;if(this.pos<this.max){var u=this.source;var l=u.string.charCodeAt(this.pos+u.start);if(a!=null){n=a(l)}else{n=true}}else{n=false}if(n){this.upto(A.ofString("\n"))}else{break}var o=_.WHITE;while(true){var h;if(this.pos<this.max){var f=this.source;var c=f.string.charCodeAt(this.pos+f.start);if(o!=null){h=o(c)}else{h=true}}else{h=false}if(!h){break}this.pos++}}}var v=this.pos;try{var p=T.sure(this.ident()).toString();var g={start:v,end:this.pos,source:this._filename,startToken:null,endToken:null};return b.Success({kind:"NamedType",value:p,loc:g})}catch(m){var w=this.pos;return b.Failure(this.makeError("Name identifier expected",this.doMakePos(w,w+1)))}},readEnumDefinition:function(e){var t={loc:{start:e,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"EnumTypeDefinition",name:null,values:[]};var r=this.readNameNode();if(!T.isSuccess(r)){return b.Failure(r.slice(2)[0])}t.name=T.sure(r);var s=_.WHITE;while(true){var i;if(this.pos<this.max){var a=this.source;var n=a.string.charCodeAt(this.pos+a.start);if(s!=null){i=s(n)}else{i=true}}else{i=false}if(!i){break}this.pos++}while(true){var u=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var l;if(this.pos<this.max){var o=this.source;var h=o.string.charCodeAt(this.pos+o.start);if(u!=null){l=u(h)}else{l=true}}else{l=false}if(l){this.upto(A.ofString("\n"))}else{break}var f=_.WHITE;while(true){var c;if(this.pos<this.max){var v=this.source;var p=v.string.charCodeAt(this.pos+v.start);if(f!=null){c=f(p)}else{c=true}}else{c=false}if(!c){break}this.pos++}}this.expect(A.ofString("{"));while(true){var g=this.readNameNode();if(!T.isSuccess(g)){return b.Failure(g.slice(2)[0])}var m={kind:"NamedType",name:T.sure(g)};t.values.push(m);var w=_.WHITE;while(true){var k;if(this.pos<this.max){var S=this.source;var y=S.string.charCodeAt(this.pos+S.start);if(w!=null){k=w(y)}else{k=true}}else{k=false}if(!k){break}this.pos++}while(true){var C=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var x;if(this.pos<this.max){var E=this.source;var I=E.string.charCodeAt(this.pos+E.start);if(C!=null){x=C(I)}else{x=true}}else{x=false}if(x){this.upto(A.ofString("\n"))}else{break}var H=_.WHITE;while(true){var N;if(this.pos<this.max){var M=this.source;var R=M.string.charCodeAt(this.pos+M.start);if(H!=null){N=H(R)}else{N=true}}else{N=false}if(!N){break}this.pos++}}if(this.allow(A.ofString("}"))){break}}t.loc.end=this.pos;var O=_.WHITE;while(true){var W;if(this.pos<this.max){var D=this.source;var F=D.string.charCodeAt(this.pos+D.start);if(O!=null){W=O(F)}else{W=true}}else{W=false}if(!W){break}this.pos++}while(true){var P=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var j;if(this.pos<this.max){var q=this.source;var L=q.string.charCodeAt(this.pos+q.start);if(P!=null){j=P(L)}else{j=true}}else{j=false}if(j){this.upto(A.ofString("\n"))}else{break}var V=_.WHITE;while(true){var U;if(this.pos<this.max){var G=this.source;var B=G.string.charCodeAt(this.pos+G.start);if(V!=null){U=V(B)}else{U=true}}else{U=false}if(!U){break}this.pos++}}return b.Success(t)},readScalarDefinition:function(e){var t={loc:{start:e,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"ScalarTypeDefinition",name:null};var r=_.WHITE;while(true){var s;if(this.pos<this.max){var i=this.source;var a=i.string.charCodeAt(this.pos+i.start);if(r!=null){s=r(a)}else{s=true}}else{s=false}if(!s){break}this.pos++}while(true){var n=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var u;if(this.pos<this.max){var l=this.source;var o=l.string.charCodeAt(this.pos+l.start);if(n!=null){u=n(o)}else{u=true}}else{u=false}if(u){this.upto(A.ofString("\n"))}else{break}var h=_.WHITE;while(true){var f;if(this.pos<this.max){var c=this.source;var v=c.string.charCodeAt(this.pos+c.start);if(h!=null){f=h(v)}else{f=true}}else{f=false}if(!f){break}this.pos++}}var p=this.readNameNode();if(!T.isSuccess(p)){return b.Failure(p.slice(2)[0])}t.name=T.sure(p);t.loc.end=this.pos;var g=_.WHITE;while(true){var m;if(this.pos<this.max){var w=this.source;var k=w.string.charCodeAt(this.pos+w.start);if(g!=null){m=g(k)}else{m=true}}else{m=false}if(!m){break}this.pos++}while(true){var S=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var y;if(this.pos<this.max){var C=this.source;var x=C.string.charCodeAt(this.pos+C.start);if(S!=null){y=S(x)}else{y=true}}else{y=false}if(y){this.upto(A.ofString("\n"))}else{break}var E=_.WHITE;while(true){var I;if(this.pos<this.max){var H=this.source;var N=H.string.charCodeAt(this.pos+H.start);if(E!=null){I=E(N)}else{I=true}}else{I=false}if(!I){break}this.pos++}}return b.Success(t)},readUnionDefinition:function(e){var t={loc:{start:e,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"UnionTypeDefinition",name:null,types:[]};var r=this.readNameNode();if(!T.isSuccess(r)){return b.Failure(r.slice(2)[0])}t.name=T.sure(r);var s=_.WHITE;while(true){var i;if(this.pos<this.max){var a=this.source;var n=a.string.charCodeAt(this.pos+a.start);if(s!=null){i=s(n)}else{i=true}}else{i=false}if(!i){break}this.pos++}while(true){var u=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var l;if(this.pos<this.max){var o=this.source;var h=o.string.charCodeAt(this.pos+o.start);if(u!=null){l=u(h)}else{l=true}}else{l=false}if(l){this.upto(A.ofString("\n"))}else{break}var f=_.WHITE;while(true){var c;if(this.pos<this.max){var v=this.source;var p=v.string.charCodeAt(this.pos+v.start);if(f!=null){c=f(p)}else{c=true}}else{c=false}if(!c){break}this.pos++}}this.expect(A.ofString("="));while(true){var g=this.readNameNode();if(!T.isSuccess(g)){return b.Failure(g.slice(2)[0])}var m={kind:"NamedType",name:T.sure(g)};t.types.push(m);if(!this.allow(A.ofString("|"))){break}}t.loc.end=this.pos;var w=_.WHITE;while(true){var k;if(this.pos<this.max){var S=this.source;var y=S.string.charCodeAt(this.pos+S.start);if(w!=null){k=w(y)}else{k=true}}else{k=false}if(!k){break}this.pos++}while(true){var C=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var x;if(this.pos<this.max){var E=this.source;var I=E.string.charCodeAt(this.pos+E.start);if(C!=null){x=C(I)}else{x=true}}else{x=false}if(x){this.upto(A.ofString("\n"))}else{break}var H=_.WHITE;while(true){var N;if(this.pos<this.max){var M=this.source;var R=M.string.charCodeAt(this.pos+M.start);if(H!=null){N=H(R)}else{N=true}}else{N=false}if(!N){break}this.pos++}}return b.Success(t)},readFieldDefinition:function(){var e=_.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var s=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(s)}else{t=true}}else{t=false}if(!t){break}this.pos++}while(true){var i=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var a;if(this.pos<this.max){var n=this.source;var u=n.string.charCodeAt(this.pos+n.start);if(i!=null){a=i(u)}else{a=true}}else{a=false}if(a){this.upto(A.ofString("\n"))}else{break}var l=_.WHITE;while(true){var o;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(l!=null){o=l(f)}else{o=true}}else{o=false}if(!o){break}this.pos++}}var c={loc:{start:this.pos,end:this.pos,source:this._filename,startToken:null,endToken:null},kind:"ObjectTypeDefinition",name:null,type:null,arguments:[],directives:[]};var v=this.readNameNode();if(!T.isSuccess(v)){return b.Failure(v.slice(2)[0])}c.name=T.sure(v);if(this.allow(A.ofString("("))){var p=this.readArguments();if(!T.isSuccess(p)){return b.Failure(p.slice(2)[0])}c["arguments"]=T.sure(p)}var g=_.WHITE;while(true){var m;if(this.pos<this.max){var w=this.source;var k=w.string.charCodeAt(this.pos+w.start);if(g!=null){m=g(k)}else{m=true}}else{m=false}if(!m){break}this.pos++}var S=this.readTypeNode();if(!T.isSuccess(S)){return b.Failure(S.slice(2)[0])}c.type=T.sure(S);c.loc.end=this.pos;var y=_.WHITE;while(true){var C;if(this.pos<this.max){var x=this.source;var E=x.string.charCodeAt(this.pos+x.start);if(y!=null){C=y(E)}else{C=true}}else{C=false}if(!C){break}this.pos++}while(true){var I=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var H;if(this.pos<this.max){var N=this.source;var M=N.string.charCodeAt(this.pos+N.start);if(I!=null){H=I(M)}else{H=true}}else{H=false}if(H){this.upto(A.ofString("\n"))}else{break}var R=_.WHITE;while(true){var O;if(this.pos<this.max){var W=this.source;var D=W.string.charCodeAt(this.pos+W.start);if(R!=null){O=R(D)}else{O=true}}else{O=false}if(!O){break}this.pos++}}return b.Success(c)},readTypeNode:function(){var e=false;var t=false;var r=false;this.expect(A.ofString(":"));if(this.allow(A.ofString("["))){e=true}var s=this.readNameNode();if(!T.isSuccess(s)){return b.Failure(s.slice(2)[0])}var i={kind:"NamedType",name:T.sure(s)};var a=_.WHITE;while(true){var n;if(this.pos<this.max){var u=this.source;var l=u.string.charCodeAt(this.pos+u.start);if(a!=null){n=a(l)}else{n=true}}else{n=false}if(!n){break}this.pos++}if(e){if(this.allow(A.ofString("!"))){t=true}var o=_.WHITE;while(true){var h;if(this.pos<this.max){var f=this.source;var c=f.string.charCodeAt(this.pos+f.start);if(o!=null){h=o(c)}else{h=true}}else{h=false}if(!h){break}this.pos++}this.expect(A.ofString("]"))}var v=_.WHITE;while(true){var p;if(this.pos<this.max){var d=this.source;var g=d.string.charCodeAt(this.pos+d.start);if(v!=null){p=v(g)}else{p=true}}else{p=false}if(!p){break}this.pos++}if(this.allow(A.ofString("!"))){r=true}var m=null;var w=null;var k=function(e){if(m==null){m=e;w=e}else{w.type=e;w=e}};if(r){k({type:null,kind:"NonNullType"})}if(e){k({type:null,kind:"ListType"})}if(t){k({type:null,kind:"NonNullType"})}k(i);return b.Success(m)},readArguments:function(){var e=[];while(true){var t={type:null,name:null,loc:null,kind:"InputValueDefinition",directives:null,description:null,defaultValue:null};var r=this.readNameNode();if(!T.isSuccess(r)){return b.Failure(r.slice(2)[0])}t.name=T.sure(r);var s=_.WHITE;while(true){var i;if(this.pos<this.max){var a=this.source;var n=a.string.charCodeAt(this.pos+a.start);if(s!=null){i=s(n)}else{i=true}}else{i=false}if(!i){break}this.pos++}while(true){var u=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var l;if(this.pos<this.max){var o=this.source;var h=o.string.charCodeAt(this.pos+o.start);if(u!=null){l=u(h)}else{l=true}}else{l=false}if(l){this.upto(A.ofString("\n"))}else{break}var f=_.WHITE;while(true){var c;if(this.pos<this.max){var v=this.source;var p=v.string.charCodeAt(this.pos+v.start);if(f!=null){c=f(p)}else{c=true}}else{c=false}if(!c){break}this.pos++}}var g=this.readTypeNode();if(!T.isSuccess(g)){return b.Failure(g.slice(2)[0])}t.type=T.sure(g);e.push(t);var m=_.WHITE;while(true){var w;if(this.pos<this.max){var k=this.source;var S=k.string.charCodeAt(this.pos+k.start);if(m!=null){w=m(S)}else{w=true}}else{w=false}if(!w){break}this.pos++}while(true){var y=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var C;if(this.pos<this.max){var x=this.source;var E=x.string.charCodeAt(this.pos+x.start);if(y!=null){C=y(E)}else{C=true}}else{C=false}if(C){this.upto(A.ofString("\n"))}else{break}var I=_.WHITE;while(true){var H;if(this.pos<this.max){var N=this.source;var M=N.string.charCodeAt(this.pos+N.start);
if(I!=null){H=I(M)}else{H=true}}else{H=false}if(!H){break}this.pos++}}if(this.allow(A.ofString(")"))){break}var R=_.WHITE;while(true){var O;if(this.pos<this.max){var W=this.source;var D=W.string.charCodeAt(this.pos+W.start);if(R!=null){O=R(D)}else{O=true}}else{O=false}if(!O){break}this.pos++}while(true){var F=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var P;if(this.pos<this.max){var j=this.source;var q=j.string.charCodeAt(this.pos+j.start);if(F!=null){P=F(q)}else{P=true}}else{P=false}if(P){this.upto(A.ofString("\n"))}else{break}var L=_.WHITE;while(true){var V;if(this.pos<this.max){var U=this.source;var G=U.string.charCodeAt(this.pos+U.start);if(L!=null){V=L(G)}else{V=true}}else{V=false}if(!V){break}this.pos++}}if(this.allow(A.ofString("="))){var B=this.readValue();if(!T.isSuccess(B)){return b.Failure(B.slice(2)[0])}t.defaultValue=T.sure(B)}var $=_.WHITE;while(true){var K;if(this.pos<this.max){var X=this.source;var Y=X.string.charCodeAt(this.pos+X.start);if($!=null){K=$(Y)}else{K=true}}else{K=false}if(!K){break}this.pos++}while(true){var J=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var Q;if(this.pos<this.max){var z=this.source;var Z=z.string.charCodeAt(this.pos+z.start);if(J!=null){Q=J(Z)}else{Q=true}}else{Q=false}if(Q){this.upto(A.ofString("\n"))}else{break}var ee=_.WHITE;while(true){var te;if(this.pos<this.max){var re=this.source;var se=re.string.charCodeAt(this.pos+re.start);if(ee!=null){te=ee(se)}else{te=true}}else{te=false}if(!te){break}this.pos++}}if(this.allow(A.ofString(")"))){break}this.expect(A.ofString(","))}return b.Success(e)},readValue:function(){var e=_.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var s=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(s)}else{t=true}}else{t=false}if(!t){break}this.pos++}while(true){var i=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var a;if(this.pos<this.max){var n=this.source;var u=n.string.charCodeAt(this.pos+n.start);if(i!=null){a=i(u)}else{a=true}}else{a=false}if(a){this.upto(A.ofString("\n"))}else{break}var l=_.WHITE;while(true){var o;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(l!=null){o=l(f)}else{o=true}}else{o=false}if(!o){break}this.pos++}}var c=this.readNumeric();if(c!=null){var v={kind:c.is_float?"FloatValue":"IntValue",value:c.value};return b.Success(v)}var p=this.readString();if(p!=null){var g={value:p.value,block:p.is_block};return b.Success(g)}if(this.allowHere(A.ofString("true"))){return b.Success({kind:"BooleanValue",value:true})}if(this.allowHere(A.ofString("false"))){return b.Success({kind:"BooleanValue",value:false})}if(this.allowHere(A.ofString("null"))){return b.Success({kind:"NullValue",value:false})}var m=d.IDENT_START;var w;if(this.pos<this.max){var k=this.source;var y=k.string.charCodeAt(this.pos+k.start);if(m!=null){w=m(y)}else{w=true}}else{w=false}if(w){return b.Success({kind:"EnumValue",value:this.ident(true)})}var C=function(e){return e==91};var T;if(this.pos<this.max){var x=this.source;var E=x.string.charCodeAt(this.pos+x.start);if(C!=null){T=C(E)}else{T=true}}else{T=false}if(T){return b.Success({kind:"ListValue",values:this.readArrayValues()})}var I=function(e){return e==123};var H;if(this.pos<this.max){var N=this.source;var M=N.string.charCodeAt(this.pos+N.start);if(I!=null){H=I(M)}else{H=true}}else{H=false}if(H){return b.Success({kind:"ObjectValue",fields:this.readObjectFields()})}var R=this.source;var O=A.wrap(R,this.pos);var W="Expected value but found "+R.string.charCodeAt(O+R.start);var D=this.pos;throw new S(this.makeError(W,this.doMakePos(D,D+1)))},readNumeric:function(){var e=this.pos;var t=this.allowHere(A.ofString("-"));var r=false;var s=_.DIGIT;this.skipIgnored();var i=this.pos;while(true){var a;if(this.pos<this.max){var n=this.source;var u=n.string.charCodeAt(this.pos+n.start);if(s!=null){a=s(u)}else{a=true}}else{a=false}if(!a){break}this.pos++}var l=this.source;var o;var h;o=i;h=this.pos;var f=A._new(l.string,A.wrap(l,o)+l.start,A.clamp(l,h)+l.start).toString();if(f==null||f.length==0){this.pos=e;return null}if(t){f="-"+f}var c=this.allowHere(A.ofString("."));if(c){r=true;f+=".";var v=_.DIGIT;this.skipIgnored();var p=this.pos;while(true){var g;if(this.pos<this.max){var m=this.source;var w=m.string.charCodeAt(this.pos+m.start);if(v!=null){g=v(w)}else{g=true}}else{g=false}if(!g){break}this.pos++}var k=this.source;var y;var C;y=p;C=this.pos;f+=A._new(k.string,A.wrap(k,y)+k.start,A.clamp(k,C)+k.start).toString()}var b;var T=d.EXP;var x;if(this.pos<this.max){var E=this.source;var I=E.string.charCodeAt(this.pos+E.start);if(T!=null){x=T(I)}else{x=true}}else{x=false}if(x){b="e"}else{b=null}if(b!=null){r=true;f+="e";this.pos++;var H=this.allowHere(A.ofString("-"));var N=_.DIGIT;this.skipIgnored();var M=this.pos;while(true){var R;if(this.pos<this.max){var O=this.source;var W=O.string.charCodeAt(this.pos+O.start);if(N!=null){R=N(W)}else{R=true}}else{R=false}if(!R){break}this.pos++}var D=this.source;var F;var P;F=M;P=this.pos;var j=A._new(D.string,A.wrap(D,F)+D.start,A.clamp(D,P)+D.start);if(j.length!=1){var q="Invalid exponent "+j.toString();var L=this.pos;throw new S(this.makeError(q,this.doMakePos(L,L+1)))}f+=(H?"-":"")+j.toString()}return{value:f,is_float:r}},readString:function(){var e=this.pos;var t=this.allowHere(A.ofString('"'));if(!t){this.pos=e;return null}var r=this.allowHere(A.ofString('""'));var s=0;var i="";while(true){if(this.pos==this.source.length){throw new S(this.makeError("Unterminated string",this.doMakePos(e,e+1)))}var a=this.source;var n=a.string.charCodeAt(this.pos++ +a.start);if(n==34){if(s!=92){if(!r){break}var u;var l;if(r){var o=this.source;var h=A.wrap(o,this.pos);l=o.string.charCodeAt(h+o.start)==34}else{l=false}if(l){var f=this.source;var c=A.wrap(f,this.pos+1);u=f.string.charCodeAt(c+f.start)==34}else{u=false}if(u){this.pos+=2;break}}}s=n;if(!r&&n==13){i+="\\n"}else if(!r&&n==9){i+="\\t"}else{i+=String.fromCharCode(n)}}return{value:i,is_block:r}},readArrayValues:function(){var e=[];this.expect(A.ofString("["));if(this.allow(A.ofString("]"))){return e}while(true){var t=this.readValue();if(!T.isSuccess(t)){var r=t.slice(2)[0];var s=this.pos;throw new S(this.makeError(r,this.doMakePos(s,s+1)))}e.push(T.sure(t));var i=_.WHITE;while(true){var a;if(this.pos<this.max){var n=this.source;var u=n.string.charCodeAt(this.pos+n.start);if(i!=null){a=i(u)}else{a=true}}else{a=false}if(!a){break}this.pos++}while(true){var l=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var o;if(this.pos<this.max){var h=this.source;var f=h.string.charCodeAt(this.pos+h.start);if(l!=null){o=l(f)}else{o=true}}else{o=false}if(o){this.upto(A.ofString("\n"))}else{break}var c=_.WHITE;while(true){var v;if(this.pos<this.max){var p=this.source;var g=p.string.charCodeAt(this.pos+p.start);if(c!=null){v=c(g)}else{v=true}}else{v=false}if(!v){break}this.pos++}}if(this.allow(A.ofString("]"))){break}this.expect(A.ofString(","))}return e},readObjectFields:function(){var e=[];this.expect(A.ofString("{"));if(this.allow(A.ofString("}"))){return e}while(true){var t=_.WHITE;while(true){var r;if(this.pos<this.max){var s=this.source;var i=s.string.charCodeAt(this.pos+s.start);if(t!=null){r=t(i)}else{r=true}}else{r=false}if(!r){break}this.pos++}while(true){var a=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var n;if(this.pos<this.max){var u=this.source;var l=u.string.charCodeAt(this.pos+u.start);if(a!=null){n=a(l)}else{n=true}}else{n=false}if(n){this.upto(A.ofString("\n"))}else{break}var o=_.WHITE;while(true){var h;if(this.pos<this.max){var f=this.source;var c=f.string.charCodeAt(this.pos+f.start);if(o!=null){h=o(c)}else{h=true}}else{h=false}if(!h){break}this.pos++}}var v=this.readString();if(v==null){var p=this.pos;throw new S(this.makeError("Expecting object key",this.doMakePos(p,p+1)))}if(v.is_block){var g=this.pos;throw new S(this.makeError("Object keys don't support block strings",this.doMakePos(g,g+1)))}var m=_.WHITE;while(true){var w;if(this.pos<this.max){var k=this.source;var y=k.string.charCodeAt(this.pos+k.start);if(m!=null){w=m(y)}else{w=true}}else{w=false}if(!w){break}this.pos++}while(true){var C=function(e){return function(t){return t==e[0]}}([d.COMMENT_CHAR]);var b;if(this.pos<this.max){var x=this.source;var E=x.string.charCodeAt(this.pos+x.start);if(C!=null){b=C(E)}else{b=true}}else{b=false}if(b){this.upto(A.ofString("\n"))}else{break}var I=_.WHITE;while(true){var H;if(this.pos<this.max){var N=this.source;var M=N.string.charCodeAt(this.pos+N.start);if(I!=null){H=I(M)}else{H=true}}else{H=false}if(!H){break}this.pos++}}this.expect(A.ofString(":"));var R=this.readValue();if(!T.isSuccess(R)){var O=R.slice(2)[0];var W=this.pos;throw new S(this.makeError(O,this.doMakePos(W,W+1)))}var D={kind:"Name",value:v.value};var F={kind:"ObjectField",name:D,value:T.sure(R)};e.push(F);if(this.allow(A.ofString("}"))){break}this.expect(A.ofString(","))}return e},ident:function(e){if(e==null){e=false}var t;var r;if(e){var s=d.IDENT_START;if(this.pos<this.max){var i=this.source;var a=i.string.charCodeAt(this.pos+i.start);if(s!=null){r=s(a)}else{r=true}}else{r=false}}else{r=false}if(!r){if(!e){var n=d.IDENT_START;this.skipIgnored();if(this.pos<this.max){var u=this.source;var l=u.string.charCodeAt(this.pos+u.start);if(n!=null){t=n(l)}else{t=true}}else{t=false}}else{t=false}}else{t=true}if(t){var o=d.IDENT_CONTD;this.skipIgnored();var h=this.pos;while(true){var f;if(this.pos<this.max){var c=this.source;var v=c.string.charCodeAt(this.pos+c.start);if(o!=null){f=o(v)}else{f=true}}else{f=false}if(!f){break}this.pos++}var p=this.source;var _;var g;_=h;g=this.pos;return b.Success(A._new(p.string,A.wrap(p,_)+p.start,A.clamp(p,g)+p.start))}else{var m=this.pos;return b.Failure(this.makeError("Identifier expected",this.doMakePos(m,m+1)))}},doSkipIgnored:function(){var e=_.WHITE;while(true){var t;if(this.pos<this.max){var r=this.source;var s=r.string.charCodeAt(this.pos+r.start);if(e!=null){t=e(s)}else{t=true}}else{t=false}if(!t){break}this.pos++}},doMakePos:function(e,t){return new c("Untitled",e,t)},makeError:function(e,t){return new v(e,t)},mkLoc:function(e,t){if(e==null){e=this.pos}if(t==null){t=e}return{start:e,end:t,source:this._filename,startToken:null,endToken:null}},__class__:d});var g={__ename__:true,__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};g.CFunction=["CFunction",0];g.CFunction.toString=r;g.CFunction.__enum__=g;g.Module=function(e){var t=["Module",1,e];t.__enum__=g;t.toString=r;return t};g.FilePos=function(e,t,s){var i=["FilePos",2,e,t,s];i.__enum__=g;i.toString=r;return i};g.Method=function(e,t){var s=["Method",3,e,t];s.__enum__=g;s.toString=r;return s};g.LocalFunction=function(e){var t=["LocalFunction",4,e];t.__enum__=g;t.toString=r;return t};var m=function(){};m.__name__=true;var w={__ename__:true,__constructs__:["Left","Right"]};w.Left=function(e){var t=["Left",0,e];t.__enum__=w;t.toString=r;return t};w.Right=function(e){var t=["Right",1,e];t.__enum__=w;t.toString=r;return t};var k=function(){this.h={}};k.__name__=true;k.__interfaces__=[m];k.prototype={setReserved:function(e,t){if(this.rh==null){this.rh={}}this.rh["$"+e]=t},getReserved:function(e){if(this.rh==null){return null}else{return this.rh["$"+e]}},existsReserved:function(e){if(this.rh==null){return false}return this.rh.hasOwnProperty("$"+e)},keys:function(){return n.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h){if(this.h.hasOwnProperty(t)){e.push(t)}}if(this.rh!=null){for(var t in this.rh){if(t.charCodeAt(0)==36){e.push(t.substr(1))}}}return e},__class__:k};var S=function(e){Error.call(this);this.val=e;this.message=String(e);if(Error.captureStackTrace){Error.captureStackTrace(this,S)}};S.__name__=true;S.wrap=function(e){if(e instanceof Error){return e}else{return new S(e)}};S.__super__=Error;S.prototype=s(Error.prototype,{__class__:S});var y=function(){};y.__name__=true;y.getClass=function(e){if(e instanceof Array&&e.__enum__==null){return Array}else{var t=e.__class__;if(t!=null){return t}var r=y.__nativeClassName(e);if(r!=null){return y.__resolveNativeClass(r)}return null}};y.__string_rec=function(e,t){if(e==null){return"null"}if(t.length>=5){return"<...>"}var r=typeof e;if(r=="function"&&(e.__name__||e.__ename__)){r="object"}switch(r){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2){return e[0]}var s=e[0]+"(";t+="	";var i=2;var a=e.length;while(i<a){var n=i++;if(n!=2){s+=","+y.__string_rec(e[n],t)}else{s+=y.__string_rec(e[n],t)}}return s+")"}var u=e.length;var l;var o="[";t+="	";var h=0;var f=u;while(h<f){var c=h++;o+=(c>0?",":"")+y.__string_rec(e[c],t)}o+="]";return o}var v;try{v=e.toString}catch(p){return"???"}if(v!=null&&v!=Object.toString&&typeof v=="function"){var _=e.toString();if(_!="[object Object]"){return _}}var d=null;var g="{\n";t+="	";var m=e.hasOwnProperty!=null;for(var d in e){if(m&&!e.hasOwnProperty(d)){continue}if(d=="prototype"||d=="__class__"||d=="__super__"||d=="__interfaces__"||d=="__properties__"){continue}if(g.length!=2){g+=", \n"}g+=t+d+" : "+y.__string_rec(e[d],t)}t=t.substring(1);g+="\n"+t+"}";return g;case"string":return e;default:return String(e)}};y.__interfLoop=function(e,t){if(e==null){return false}if(e==t){return true}var r=e.__interfaces__;if(r!=null){var s=0;var i=r.length;while(s<i){var a=s++;var n=r[a];if(n==t||y.__interfLoop(n,t)){return true}}}return y.__interfLoop(e.__super__,t)};y.__instanceof=function(e,t){if(t==null){return false}switch(t){case Array:if(e instanceof Array){return e.__enum__==null}else{return false}break;case N:return typeof e=="boolean";case I:return true;case H:return typeof e=="number";case E:if(typeof e=="number"){return(e|0)===e}else{return false}break;case String:return typeof e=="string";default:if(e!=null){if(typeof t=="function"){if(e instanceof t){return true}if(y.__interfLoop(y.getClass(e),t)){return true}}else if(typeof t=="object"&&y.__isNativeObj(t)){if(e instanceof t){return true}}}else{return false}if(t==M?e.__name__!=null:false){return true}if(t==R?e.__ename__!=null:false){return true}return e.__enum__==t}};y.__nativeClassName=function(e){var t=y.__toStr.call(e).slice(8,-1);if(t=="Object"||t=="Function"||t=="Math"||t=="JSON"){return null}return t};y.__isNativeObj=function(e){return y.__nativeClassName(e)!=null};y.__resolveNativeClass=function(e){return t[e]};var C=function(e,t,r){if(e==null){e=500}this.isTinkError=true;this.code=e;this.message=t;this.pos=r;this.exceptionStack=[];this.callStack=[]};C.__name__=true;C.asError=function(e){if(e!=null&&e.isTinkError){return e}else{return null}};C.prototype={printPos:function(){return this.pos.className+"."+this.pos.methodName+":"+this.pos.lineNumber},toString:function(){var e="Error#"+this.code+": "+this.message;if(this.pos!=null){e+=" @ "+this.printPos()}return e},throwSelf:function(){throw new S(this)},__class__:C};var b={__ename__:true,__constructs__:["Success","Failure"]};b.Success=function(e){var t=["Success",0,e];t.__enum__=b;t.toString=r;return t};b.Failure=function(e){var t=["Failure",1,e];t.__enum__=b;t.toString=r;return t};var T=function(){};T.__name__=true;T.sure=function(e){switch(e[1]){case 0:var t=e[2];return t;case 1:var r=e[2];var s=C.asError(r);if(s==null){throw new S(r)}else{var i=s;return i.throwSelf()}break}};T.isSuccess=function(e){if(e[1]==0){return true}else{return false}};var x=function(e,t,r){this.string=e;this.start=t;this.end=r;if((this.length=r-t)<0){this.length=0;this.end=this.start}};x.__name__=true;x.prototype={toString:function(){if(this.representation==null){this.representation=this.string.substring(this.start,this.end)}return this.representation},__class__:x};var A={};A.__name__=true;A._new=function(e,t,r){var s=new x(e,t==e.length?t:t<0?t%e.length+e.length:t%e.length,r==e.length?r:r<0?r%e.length+e.length:r%e.length);return s};A.clamp=function(e,t){if(t<0){if(-t>e.length){return 0}else{return t+e.length}}else if(t>e.length){return e.length}else{return t}};A.wrap=function(e,t){if(e.length==0){return 0}else if(t<0){return t%e.length+e.length}else{return t%e.length}};A.ofString=function(e){if(e==null||e==""){return A.EMPTY}else if(e.length==1){var t=e.charCodeAt(0);var r=t;if(r<A.CHARS.length){return A.CHARS[r]}else{return new x(e,0,e.length)}}else{return new x(e,0,e.length)}};A.hasSub=function(e,t,r){if(r==null){r=0}r=A.wrap(e,r);if(r+t.length>e.length){return false}var s=e;var i=t;return A.isEqual(s.string,s.start+r,t.length,i.string,i.start,i.length)};A.indexOf=function(e,t,r){if(r==null){r=0}r=A.wrap(e,r);var s=e.string.indexOf(t.toString(),r+e.start);if(s==-1){return-1}else{var i=s;return i-e.start}};A.isEqual=function(e,t,r,s,i,a){if(a!=r){return false}var n=0;var u=a;while(n<u){var l=n++;if(e.charCodeAt(t+l)!=s.charCodeAt(i+l)){return false}}return true};A.equalsString=function(e,t){if(t==null||t.length!=e.length){return false}else{return A.isEqual(e.string,e.start,e.length,t,0,t.length)}};String.prototype.__class__=String;String.__name__=true;Array.__name__=true;var E={__name__:["Int"]};var I={__name__:["Dynamic"]};var H=Number;H.__name__=["Float"];var N=Boolean;N.__ename__=["Bool"];var M={__name__:["Class"]};var R={};var O={};_.WHITE=function(e){return e<33};_.LOWER=function(e){if(e>=97){return e<=122}else{return false}};_.UPPER=function(e){if(e>=65){return e<=90}else{return false}};_.DIGIT=function(e){if(e>=48){return e<=57}else{return false}};d.COMMENT_CHAR=35;d.EXP=function(e){var t;var r=function(e){return e==101};var s=function(e){return e==69};t=function(e){if(!(r==null||r(e))){if(s!=null){return s(e)}else{return true}}else{return true}};return t}(this);d.IDENT_START=function(e){var t;var r=_.UPPER;var s=_.LOWER;var i=function(e){if(!(r==null||r(e))){if(s!=null){return s(e)}else{return true}}else{return true}};var a=function(e){return e==95};t=function(e){if(!(i==null||i(e))){if(a!=null){return a(e)}else{return true}}else{return true}};return t}(this);d.IDENT_CONTD=function(e){var t;var r=d.IDENT_START;var s=_.DIGIT;t=function(e){if(!(r==null||r(e))){if(s!=null){return s(e)}else{return true}}else{return true}};return t}(this);y.__toStr={}.toString;A.CHARS=function(e){var t;var r=[];{var s=0;while(s<128){var i=s++;r.push(new x(String.fromCharCode(i),0,1))}}t=r;return t}(this);A.EMPTY=new x("",0,0);a.main()})(typeof exports!="undefined"?exports:typeof window!="undefined"?window:typeof self!="undefined"?self:this,typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);
